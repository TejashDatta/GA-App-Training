# GA-App-Training

# rails ニュースアプリの仕様：

## アプリ概要

What: 管理者ユーザーが記事を追加でき、誰でも記事を表示できるニュースサイト。

Why: アンドロイドの news reader アプリが記事を取得している。その反面でこのアプリが記事を提供している。
それでアンドロイドアプリの向こう側のサーバーの動作をわかる。

When: 2月18日まで開発を完了する。

Who: ダッタテジャシュが練習のために開発する。app team のメンバーがアプリを確認します。
    ユーザーはダッタテジャシュとapp team の他のメンバーです。

Where: アプリを local 環境のサーバーで実行する。

How: ruby on rails でサーバーを開発する。

## ユーザーの種類

- 非ログインユーザー
- admin の権利があるログインしたユーザー

アプリで admin のユーザーだけがログインできるのにかかわらず、admin のユーザーを普通のユーザーから識別できるようにする。
なぜなら、そうしないとアプリを拡張する際、普通のユーザーを導入したら、気をつけないとそのユーザーがサイトの管理者しか行えないべき行動を行える。

## アプリのモデル

- ユーザー
  - 名前
  - パスワード
  - isAdmin (admin であるかどうかの Boolean フラグ)
  - 制限：
    - 全部の項目が必須

- 記事
  - 題名
  - 内容
  - pubDate: rails が自動に管理する作成日を filter で公開日として使う
  - 制限：
    - 題名と内容が必須項目

記事は admin のユーザーだけが追加できる、それとどの admin のユーザーもどの記事も編集できる。

### RSS リスポンスで記事のフォマット

項目：
- title: 記事の題名
- link: 記事のURLを rails 内で生成する
- description: 記事の内容の最初の 200 文字で生成する
- pubDate: pubDate の作成日の filter を使う

## 画面

- ログイン： admin がログインできる画面
- index: admin に登録された記事の題名の一覧
- 記事詳細： 記事の内容を示す
- 記事追加： admin が記事を追加できる画面
- 記事編集： admin が記事を編集できる画面

## 画面の詳細

- アプリ全体の右上で：
  - 非ログイン状態であれば：
    - ログイン画面へのリンク
  - admin ユーザーであれば：
    - 現時点でログインしたユーザーの名前
      例：admin としてログインしました。
    - ログアウトのリンク

- index 画面：
  - 非ログイン状態であれば：
    - admin に登録された記事の一覧を示す
      - 一覧の記事項目で題名と pubDate を表示する
      - 項目がpubDate の降順で表示する
    - 題名をクリックすればその記事の内容を示すページへ移動する
    - XML フォマットでリクエストすれば (index.xml) RSS フォマットに乗ってる XML をレスポンスに送る
  - admin ユーザーであれば：
    - 記事の一覧で記事ごとの右側に編集と削除のリンクも置く
    - 削除をクリックすれば rails の自動の削除の確認の処理が起こる。javascript の dialog box で削除の確認を求める。

- 記事詳細画面：
  - 記事の題名、内容、公開日を示す
  - 上に題名、その下に公開日、その後記事の内容
  - admin ユーザーであれば：
    - 公開日の隣に編集と削除のリンクを置く

- 記事追加画面：
  - admin ユーザーだけがアクセスできる
  - フォームで記事の題名と内容を記入できる
  - model の項目の制限が有効
  
- 記事編集画面:
  - admin ユーザーだけがアクセスできる
  - フォームで記事の題名と内容を編集できる
  - model の項目の制限が有効
